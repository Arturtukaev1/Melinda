!function(e){"function"==typeof define&&define.amd?define(e):e()}((function(){"use strict";function e(e,t,i,o){localStorage.setItem(e,JSON.stringify(t)),sessionStorage.setItem(e,JSON.stringify(t));var n=new Date;n.setTime(n.getTime()+24*i*60*60*1e3),document.cookie=e+"="+escape(t)+";expires="+(-1==i?"Thu, 01 Jan 1970 00:00:01 GMT":n.toGMTString())+(o?";path="+o:"")}function t(e){let t="";var i,o,n,s=document.cookie.split(";");for(i=0;i<s.length;i++)o=s[i].substr(0,s[i].indexOf("=")),n=s[i].substr(s[i].indexOf("=")+1),(o=o.replace(/^\s+|\s+$/g,""))==e&&(t=unescape(n));if(""===t){const i=localStorage.getItem(e),o=sessionStorage.getItem(e);null!==i?t=JSON.parse(localStorage.getItem(e)):null!==o&&(t=JSON.parse(sessionStorage.getItem(e)))}return t}var i="saveProfileID",o="getProfileID",n="getPreviewSession",s="setPreviewSession";const r="_jst_frame";class a{constructor(e){let t=document.getElementById(r);t||(t=document.createElement("iframe"),window.addEventListener("message",(({data:e})=>{"ju_csdiframe_load"===e.event&&(this.loaded=!0)}),!1),t.src=`${window.ju4_asset_host}/csd.html?d=${e}`,t.id=r,t.name=r,t.style="display: none",null!==document.body&&document.body.appendChild(t)),this.frame=t.contentWindow}postMessage(e,t={}){return new Promise(((i,o)=>{const n=setTimeout((function(){o(new Error("Timeout"))}),3e3),s=Date.now(),r=e=>{const{data:t}=e;t.jstID===s&&(this.csdInit()||window.postMessage("ju_csdhtml_init"),i(t),clearTimeout(n),window.removeEventListener?window.removeEventListener("message",r,!1):window.detachEvent&&window.detachEvent("onmessage",r))};window.addEventListener?window.addEventListener("message",r,!1):window.attachEvent&&window.attachEvent("onmessage",r);const a={jstID:s,jstAction:e,payload:t};if(this.loaded)this.frame.postMessage(a,"*");else{let e=0;const t=setInterval((()=>{5===e&&(clearInterval(t),clearTimeout(n),o(new Error("Error posting message"))),this.loaded&&(this.frame.postMessage(a,"*"),clearInterval(t)),e++}),300)}}))}csdInit(){return!!sessionStorage.getItem("juCSDHTMLInit")||(sessionStorage.setItem("juCSDHTMLInit",!0),!1)}getProfileID(){return this.postMessage(o)}setProfileID(e){return this.postMessage(i,{id:e})}getPreviewSession(){return this.postMessage(n)}setPreviewSession(e){return this.postMessage(s,e)}}var c=e=>Object.keys(e).map((t=>{const i=e[t];if(Array.isArray(i)){return i.map((e=>`${t}=${e}`)).join("&")}return t+"="+e[t]})).join("&");function d(e,t={}){const{customCallback:i=!0}=t;return new Promise(((o,n)=>{const s=t&&t.callback?t.callback:`jcb${Date.now()}`,r=t.params?t.params:{};i&&(r.callback=s);const a=t&&t.timeout?t.timeout:3e4;let d=window.setTimeout((function(){window[s]=Function.prototype,n(new Error(`Timeout, ${e}`)),document.getElementById(s).remove()}),a);window[s]=function(e){window.clearTimeout(d),o(e),document.getElementById(s).remove()};let l=document.createElement("script");l.type="text/javascript",l.async=!0,l.id=s;let w="";Object.keys(r).length&&(w=t.base64?`request=${btoa(c(r))}`:c(r)),l.src=`${e}?${w}`,document.getElementsByTagName("head")[0].appendChild(l)}))}const l={PST8PDT:"US/Pacific",EST5EDT:"US/Eastern",CST6CDT:"US/Central",MST7MDT:"US/Mountain","GMT+0":"Etc/GMT+0",GMT0:"Etc/GMT0"};var w=e=>{const{pApi:t,version:i}=window._jst;return d(`${t}/v1/public/workflows/${e}`,{callback:"juprodworkflows"}).then((e=>(e.customCode&&function(e){const t=document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",i.innerHTML=e.css;const o=document.createElement("script");o.type="text/javascript",o.text=e.javascript,t.appendChild(i),t.appendChild(o)}(e.customCode),e.gaTrackingID&&(e.gtContainerID?function(e){const t=document.getElementsByTagName("head")[0],i=document.createElement("script");i.type="text/javascript",i.text=`\n  window.dataLayer = window.dataLayer || [];\n  (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\n  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\n  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\n  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\n  })(window,document,'script','dataLayer','${e}');\n  `,t.appendChild(i)}(e.gtContainerID):function(e){const t=document.getElementsByTagName("head")[0],i=document.createElement("script");i.src=`https://www.googletagmanager.com/gtag/js?id=${e}`,i.async=!0;const o=document.createElement("script");o.type="text/javascript",o.text=`\n   window.dataLayer = window.dataLayer || [];\n  function gtag(){dataLayer.push(arguments);}\n  gtag('js', new Date());\n\n  gtag('config', '${e}', {'send_page_view': false});\n  `,t.appendChild(i),t.appendChild(o)}(e.gaTrackingID)),e.propertyMap&&(e.propertyMap=Object.keys(e.propertyMap).reduce(((t,i)=>(t[e.propertyMap[i].apiKey]=i,t)),{})),e.discountSettings&&!e.discountSettings.discountSetting&&(e.discountSettings.discountSetting='{"autoApply":"on","fieldElement":"","submitElement":""}'),window._jst.config={...e,oldTimeZones:l,timeZone:l[e.timeZone]||e.timeZone,ju_v:i,ju_vr:"3.35"},e))).catch((e=>{throw console.log("JUSTUNO error - unable to fetch workflows config",e),e}))},u="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var p,m,f=(p=function(e,t){!function(i,o){var n="function",s="undefined",r="object",a="string",c="major",d="model",l="name",w="type",u="vendor",p="version",m="architecture",f="console",g="mobile",b="tablet",h="smarttv",v="wearable",y="embedded",S="Amazon",_="Apple",k="ASUS",j="BlackBerry",I="Browser",D="Chrome",x="Firefox",O="Google",T="Huawei",E="LG",P="Microsoft",A="Motorola",C="Opera",$="Samsung",N="Sharp",M="Sony",q="Xiaomi",L="Zebra",U="Facebook",B="Chromium OS",z="Mac OS",R=" Browser",W=function(e){for(var t={},i=0;i<e.length;i++)t[e[i].toUpperCase()]=e[i];return t},J=function(e,t){return typeof e===a&&-1!==V(t).indexOf(V(e))},V=function(e){return e.toLowerCase()},K=function(e,t){if(typeof e===a)return e=e.replace(/^\s\s*/,""),typeof t===s?e:e.substring(0,500)},G=function(e,t){for(var i,s,a,c,d,l,w=0;w<t.length&&!d;){var u=t[w],p=t[w+1];for(i=s=0;i<u.length&&!d&&u[i];)if(d=u[i++].exec(e))for(a=0;a<p.length;a++)l=d[++s],typeof(c=p[a])===r&&c.length>0?2===c.length?typeof c[1]==n?this[c[0]]=c[1].call(this,l):this[c[0]]=c[1]:3===c.length?typeof c[1]!==n||c[1].exec&&c[1].test?this[c[0]]=l?l.replace(c[1],c[2]):o:this[c[0]]=l?c[1].call(this,l,c[2]):o:4===c.length&&(this[c[0]]=l?c[3].call(this,l.replace(c[1],c[2])):o):this[c]=l||o;w+=2}},H=function(e,t){for(var i in t)if(typeof t[i]===r&&t[i].length>0){for(var n=0;n<t[i].length;n++)if(J(t[i][n],e))return"?"===i?o:i}else if(J(t[i],e))return"?"===i?o:i;return t.hasOwnProperty("*")?t["*"]:e},F={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Z={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[p,[l,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[p,[l,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[l,p],[/opios[\/ ]+([\w\.]+)/i],[p,[l,C+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[p,[l,C+" GX"]],[/\bopr\/([\w\.]+)/i],[p,[l,C]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[p,[l,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[l,p],[/quark(?:pc)?\/([-\w\.]+)/i],[p,[l,"Quark"]],[/\bddg\/([\w\.]+)/i],[p,[l,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[p,[l,"UC"+I]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[p,[l,"WeChat"]],[/konqueror\/([\w\.]+)/i],[p,[l,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[p,[l,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[p,[l,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[p,[l,"Smart Lenovo "+I]],[/(avast|avg)\/([\w\.]+)/i],[[l,/(.+)/,"$1 Secure "+I],p],[/\bfocus\/([\w\.]+)/i],[p,[l,x+" Focus"]],[/\bopt\/([\w\.]+)/i],[p,[l,C+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[p,[l,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[p,[l,"Dolphin"]],[/coast\/([\w\.]+)/i],[p,[l,C+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[p,[l,"MIUI "+I]],[/fxios\/([-\w\.]+)/i],[p,[l,x]],[/\bqihu|(qi?ho?o?|360)browser/i],[[l,"360"+R]],[/\b(qq)\/([\w\.]+)/i],[[l,/(.+)/,"$1Browser"],p],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[l,/(.+)/,"$1"+R],p],[/samsungbrowser\/([\w\.]+)/i],[p,[l,$+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[l,/_/g," "],p],[/metasr[\/ ]?([\d\.]+)/i],[p,[l,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[l,"Sogou Mobile"],p],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[l,p],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[l],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[l,U],p],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[l,p],[/\bgsa\/([\w\.]+) .*safari\//i],[p,[l,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[p,[l,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[p,[l,D+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[l,D+" WebView"],p],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[p,[l,"Android "+I]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[l,p],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[p,[l,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[p,l],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[l,[p,H,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[l,p],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[l,"Netscape"],p],[/(wolvic)\/([\w\.]+)/i],[l,p],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[p,[l,x+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[l,[p,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[l,[p,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[m,"amd64"]],[/(ia32(?=;))/i],[[m,V]],[/((?:i[346]|x)86)[;\)]/i],[[m,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[m,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[m,"armhf"]],[/windows (ce|mobile); ppc;/i],[[m,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[m,/ower/,"",V]],[/(sun4\w)[;\)]/i],[[m,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[m,V]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[d,[u,$],[w,b]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[d,[u,$],[w,g]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[d,[u,_],[w,g]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[d,[u,_],[w,b]],[/(macintosh);/i],[d,[u,_]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[d,[u,N],[w,g]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[d,[u,T],[w,b]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[d,[u,T],[w,g]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i],[[d,/_/g," "],[u,q],[w,g]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[d,/_/g," "],[u,q],[w,b]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[d,[u,"OPPO"],[w,g]],[/\b(opd2\d{3}a?) bui/i],[d,[u,"OPPO"],[w,b]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[d,[u,"Vivo"],[w,g]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[d,[u,"Realme"],[w,g]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[d,[u,A],[w,g]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[d,[u,A],[w,b]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[d,[u,E],[w,b]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[d,[u,E],[w,g]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[d,[u,"Lenovo"],[w,b]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[d,/_/g," "],[u,"Nokia"],[w,g]],[/(pixel c)\b/i],[d,[u,O],[w,b]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[d,[u,O],[w,g]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[d,[u,M],[w,g]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[d,"Xperia Tablet"],[u,M],[w,b]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[d,[u,"OnePlus"],[w,g]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[d,[u,S],[w,b]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[d,/(.+)/g,"Fire Phone $1"],[u,S],[w,g]],[/(playbook);[-\w\),; ]+(rim)/i],[d,u,[w,b]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[d,[u,j],[w,g]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[d,[u,k],[w,b]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[d,[u,k],[w,g]],[/(nexus 9)/i],[d,[u,"HTC"],[w,b]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[u,[d,/_/g," "],[w,g]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[d,[u,"TCL"],[w,b]],[/(itel) ((\w+))/i],[[u,V],d,[w,H,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[d,[u,"Acer"],[w,b]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[d,[u,"Meizu"],[w,g]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[d,[u,"Ulefone"],[w,g]],[/droid.+; (a(?:015|06[35]|142p?))/i],[d,[u,"Nothing"],[w,g]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[u,d,[w,g]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[u,d,[w,b]],[/(surface duo)/i],[d,[u,P],[w,b]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[d,[u,"Fairphone"],[w,g]],[/(u304aa)/i],[d,[u,"AT&T"],[w,g]],[/\bsie-(\w*)/i],[d,[u,"Siemens"],[w,g]],[/\b(rct\w+) b/i],[d,[u,"RCA"],[w,b]],[/\b(venue[\d ]{2,7}) b/i],[d,[u,"Dell"],[w,b]],[/\b(q(?:mv|ta)\w+) b/i],[d,[u,"Verizon"],[w,b]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[d,[u,"Barnes & Noble"],[w,b]],[/\b(tm\d{3}\w+) b/i],[d,[u,"NuVision"],[w,b]],[/\b(k88) b/i],[d,[u,"ZTE"],[w,b]],[/\b(nx\d{3}j) b/i],[d,[u,"ZTE"],[w,g]],[/\b(gen\d{3}) b.+49h/i],[d,[u,"Swiss"],[w,g]],[/\b(zur\d{3}) b/i],[d,[u,"Swiss"],[w,b]],[/\b((zeki)?tb.*\b) b/i],[d,[u,"Zeki"],[w,b]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[u,"Dragon Touch"],d,[w,b]],[/\b(ns-?\w{0,9}) b/i],[d,[u,"Insignia"],[w,b]],[/\b((nxa|next)-?\w{0,9}) b/i],[d,[u,"NextBook"],[w,b]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[u,"Voice"],d,[w,g]],[/\b(lvtel\-)?(v1[12]) b/i],[[u,"LvTel"],d,[w,g]],[/\b(ph-1) /i],[d,[u,"Essential"],[w,g]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[d,[u,"Envizen"],[w,b]],[/\b(trio[-\w\. ]+) b/i],[d,[u,"MachSpeed"],[w,b]],[/\btu_(1491) b/i],[d,[u,"Rotor"],[w,b]],[/(shield[\w ]+) b/i],[d,[u,"Nvidia"],[w,b]],[/(sprint) (\w+)/i],[u,d,[w,g]],[/(kin\.[onetw]{3})/i],[[d,/\./g," "],[u,P],[w,g]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[d,[u,L],[w,b]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[d,[u,L],[w,g]],[/smart-tv.+(samsung)/i],[u,[w,h]],[/hbbtv.+maple;(\d+)/i],[[d,/^/,"SmartTV"],[u,$],[w,h]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[u,E],[w,h]],[/(apple) ?tv/i],[u,[d,_+" TV"],[w,h]],[/crkey/i],[[d,D+"cast"],[u,O],[w,h]],[/droid.+aft(\w+)( bui|\))/i],[d,[u,S],[w,h]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[d,[u,N],[w,h]],[/(bravia[\w ]+)( bui|\))/i],[d,[u,M],[w,h]],[/(mitv-\w{5}) bui/i],[d,[u,q],[w,h]],[/Hbbtv.*(technisat) (.*);/i],[u,d,[w,h]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[u,K],[d,K],[w,h]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[w,h]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[u,d,[w,f]],[/droid.+; (shield) bui/i],[d,[u,"Nvidia"],[w,f]],[/(playstation [345portablevi]+)/i],[d,[u,M],[w,f]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[d,[u,P],[w,f]],[/\b(sm-[lr]\d\d[05][fnuw]?s?)\b/i],[d,[u,$],[w,v]],[/((pebble))app/i],[u,d,[w,v]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[d,[u,_],[w,v]],[/droid.+; (glass) \d/i],[d,[u,O],[w,v]],[/droid.+; (wt63?0{2,3})\)/i],[d,[u,L],[w,v]],[/(quest( \d| pro)?)/i],[d,[u,U],[w,v]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[u,[w,y]],[/(aeobc)\b/i],[d,[u,S],[w,y]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[d,[w,g]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[d,[w,b]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[w,b]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[w,g]],[/(android[-\w\. ]{0,9});.+buil/i],[d,[u,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[p,[l,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[p,[l,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[l,p],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[p,l]],os:[[/microsoft (windows) (vista|xp)/i],[l,p],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[l,[p,H,F]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[p,H,F],[l,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[p,/_/g,"."],[l,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[l,z],[p,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[p,l],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[l,p],[/\(bb(10);/i],[p,[l,j]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[p,[l,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[p,[l,x+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[p,[l,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[p,[l,"watchOS"]],[/crkey\/([\d\.]+)/i],[p,[l,D+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[l,B],p],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[l,p],[/(sunos) ?([\w\.\d]*)/i],[[l,"Solaris"],p],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[l,p]]},X=function(e,t){if(typeof e===r&&(t=e,e=o),!(this instanceof X))return new X(e,t).getResult();var f=typeof i!==s&&i.navigator?i.navigator:o,h=e||(f&&f.userAgent?f.userAgent:""),v=f&&f.userAgentData?f.userAgentData:o,y=t?function(e,t){var i={};for(var o in e)t[o]&&t[o].length%2==0?i[o]=t[o].concat(e[o]):i[o]=e[o];return i}(Z,t):Z,S=f&&f.userAgent==h;return this.getBrowser=function(){var e,t={};return t[l]=o,t[p]=o,G.call(t,h,y.browser),t[c]=typeof(e=t[p])===a?e.replace(/[^\d\.]/g,"").split(".")[0]:o,S&&f&&f.brave&&typeof f.brave.isBrave==n&&(t[l]="Brave"),t},this.getCPU=function(){var e={};return e[m]=o,G.call(e,h,y.cpu),e},this.getDevice=function(){var e={};return e[u]=o,e[d]=o,e[w]=o,G.call(e,h,y.device),S&&!e[w]&&v&&v.mobile&&(e[w]=g),S&&"Macintosh"==e[d]&&f&&typeof f.standalone!==s&&f.maxTouchPoints&&f.maxTouchPoints>2&&(e[d]="iPad",e[w]=b),e},this.getEngine=function(){var e={};return e[l]=o,e[p]=o,G.call(e,h,y.engine),e},this.getOS=function(){var e={};return e[l]=o,e[p]=o,G.call(e,h,y.os),S&&!e[l]&&v&&v.platform&&"Unknown"!=v.platform&&(e[l]=v.platform.replace(/chrome os/i,B).replace(/macos/i,z)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return h},this.setUA=function(e){return h=typeof e===a&&e.length>500?K(e,500):e,this},this.setUA(h),this};X.VERSION="0.7.39",X.BROWSER=W([l,p,c]),X.CPU=W([m]),X.DEVICE=W([d,u,w,f,g,h,b,v,y]),X.ENGINE=X.OS=W([l,p]),e.exports&&(t=e.exports=X),t.UAParser=X;var Q=typeof i!==s&&(i.jQuery||i.Zepto);if(Q&&!Q.ua){var Y=new X;Q.ua=Y.getResult(),Q.ua.get=function(){return Y.getUA()},Q.ua.set=function(e){Y.setUA(e);var t=Y.getResult();for(var i in t)Q.ua[i]=t[i]}}}("object"==typeof window?window:u)},p(m={exports:{}},m.exports),m.exports);f.UAParser;const g=new f,b=g.getBrowser(),h=g.getDevice(),v=g.getEngine(),y=g.getOS(),S=g.getUA(),_=(e,t="none")=>e||t,k=()=>!("undefined"==typeof window||!window.navigator&&!navigator)&&(window.navigator||navigator),j=e=>{const t=k();return t&&t.platform&&(-1!==t.platform.indexOf(e)||"MacIntel"===t.platform&&t.maxTouchPoints>1&&!window.MSStream)},I="mobile",D="tablet",x="Safari",O="Internet Explorer",T="Edge",E="Mobile Safari",P="iOS",A=()=>"string"==typeof S&&-1!==S.indexOf("Edg/"),C=()=>b.name===T,$=()=>j("iPad");h.type,h.type,h.type,b.name===E||$(),b.name,(()=>{switch(h.type){case I:case D:return!0;default:return!1}})()||$();const N=h.type===I,M=h.type===D||$()||(()=>{const e=screen.width,t="ontouchstart"in window||navigator.maxTouchPoints>0;return e>768&&e<1024&&t})();h.type,y.name,y.name,y.name===P||$(),b.name,b.name,b.name===x||b.name,b.name,b.name===O||b.name,_(y.version),_(y.name),_(b.version),_(b.major),_(b.name),_(h.vendor),_(h.model),_(v.name),_(v.version),C()||A(),b.name,_(h.type,"browser"),(()=>{const e=k();e&&(/iPad|iPhone|iPod/.test(e.platform)||"MacIntel"===e.platform&&e.maxTouchPoints>1)&&window.MSStream})(),$(),j("iPhone"),j("iPod"),(()=>{const e=k(),t=e&&e.userAgent.toLowerCase();"string"==typeof t&&/electron/.test(t)})(),A(),C()&&A(),y.name,y.name,b.name;const q=(e,t)=>e.reduce(((e,i)=>{const o=JSON.parse(i),n=[...e].reverse().find((e=>{const i=JSON.parse(e);return t.every((e=>i[e]===o[e]))}));return n?Math.abs(((e,t)=>{const i=new Date(e),o=new Date(t);return Math.abs(o-i)/36e5})((new Date).toISOString(),JSON.parse(n).event_time))>=1&&e.push(i):e.push(i),e}),[]);var L=(e=!1)=>new Promise(((t,i)=>{const{pApi:o,domain:n,profile:s,utils:r,config:a,originalReferringUrl:c}=window._jst;let{profileID:l}=window._jst;const{propertyMap:w}=a;!l&&s&&s.profileID&&(l=s.profileID);const{profileIDKey:u,_deepMerge:p}=r,m=M?"Tablet":N?"Mobile":"Desktop",f=a.workflows?Object.keys(a.workflows):[],g={domainid:n,currenturl:encodeURIComponent(window.location.href),workflowids:f,platformType:window._juplatformtype||"",device:m?m.toLowerCase():m,preferredLanguage:window.navigator.language||""};document.referrer&&(g.referrerurl=document.referrer),null!=c&&(g.originalReferralURL=c),l&&(g.profileID=l);const b=(()=>{const{domain:e,utils:t}=window._jst,{sessionIDKey:i}=t,o=JSON.parse(sessionStorage.getItem(i(e)));if(o){const{id:e,updatedAt:t}=o;return(new Date).getTime()-t<18e5?{current:e}:{last:o.id}}return null})();if(b&&(b.current&&(g.sessionID=b.current),b.last&&(g.lastSessionID=b.last)),window._juprodId){g.prodid=window._juprodId;const e=((e,t,i)=>{if(!e)return!0;let o=!0,n=localStorage.getItem(`_jst_session_activity_${i}`);if(n=n?JSON.parse(n):{},n[e]){const i=n[e];i.productsViewed[t]?o=!1:i.productsViewed[t]=!0}else n[e]={productsViewed:{[t]:!0}};return localStorage.setItem(`_jst_session_activity_${i}`,JSON.stringify(n)),o})(g.sessionID,window._juprodId,n);e&&(g.viewed=!0)}const h=(e=>{const{domain:t}=window._jst,{profileKey:i}=window._jst.utils,o=sessionStorage.getItem(i(t,e));return o?JSON.parse(o):null})(l);h?(h.enrolled_workflows&&(g.EnrolledWorkflows=h.enrolled_workflows.filter(((e,t)=>h.enrolled_workflows.indexOf(e)===t)).filter((e=>void 0!==JSON.parse(e).enrolled_time))),null!==h.isNewProfile&&void 0!==h.isNewProfile&&(g.isNewProfile=h.isNewProfile.toString()),h.cartData&&h.cartData.thisSession&&h.cartData.thisSession.customerID&&(g.customerID=h.cartData.thisSession.customerID),h.pageID&&(g.pageID=h.pageID),h.productType?g.productType=h.productType:g.productType="viewed"):delete g.sessionID,(window._jucustId||window._jucustomId)&&(g.customerID=window._jucustId||window._jucustomId),g.sendEvent=e,d(`${o}/v1/public/load`,{params:g,base64:!0}).then((e=>{const i=e.sessionID,o=e.profileID;r.setCookie(u(n),o,1e3);const s=h&&h.sessionID!==i,a=!h||s?e:p(h,e);if(!s&&h&&h.medium||(s&&(a.isNewProfile=!1),a.newSession=s),a.promos&&(a.promos=q(a.promos,["event_detail","promo_id","event_type","workflow_id","step_id"])),a.elements&&(a.elements=q(a.elements,["element_id","promo_id","event_type","frame_id"])),a.workflows&&(a.workflows=q(a.workflows,["step_id","workflow_id"])),a.multivariates&&(a.multivariates=q(a.multivariates,["multivariate_id","variation_id","workflow_id"])),w&&a.profileData&&a.fullPropMap){const e=Object.keys(w).reduce(((e,t)=>{const i=w[t];return void 0===a.profileData[i]&&void 0===a.primaryAttr[i]&&(e[i]=a.fullPropMap[t]),e}),{});a.profileData={...a.profileData,...e}}(e=>{const{domain:t,utils:i}=window._jst,{profileKey:o,sessionIDKey:n}=i,{profileID:s}=e;sessionStorage.setItem(o(t,s),JSON.stringify(e)),sessionStorage.setItem(n(t),JSON.stringify({id:e.sessionID,updatedAt:(new Date).getTime()}))})(a),r.ifrStorage.setProfileID(e.profileID).then((()=>{t(a)})).catch((e=>{console.log("error setting profileID to iframe",e)}))})).catch((e=>i(e)))}));const U=e=>Object.keys(e).map((t=>encodeURIComponent(t)+"="+encodeURIComponent(e[t]))).join("&");var B=(e,t,i=!0)=>{const{domain:o,profile:n}=window._jst;let s=t;if(i){const{sessionID:e,profileID:i}=n;s={DomainID:o,ProfileID:i,SessionID:e,...t}}return fetch(e,{method:"POST",headers:new Headers({"Content-Type":"application/x-www-form-urlencoded"}),body:s?U(s):{},redirect:"follow"}).then((e=>e.json())).catch((e=>{throw e}))};const z=e=>Object.keys(e).map((t=>encodeURIComponent(t)+"="+encodeURIComponent(e[t]))).join("&"),R=e=>{const{profile:t}=window._jst,{appliedDiscounts:i=[]}=t,{updateProfile:o}=window._jst.utils;o("appliedDiscounts",[...i,e])};function W(e,t){if(!e)return;const i=(t=(t=t.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"")).split(".");for(let t=0,o=i.length;t<o;++t){const o=i[t];if(!e)return;if(!(o in e))return;e=e[o]}return e}function J(e,t,i){let o=e;const n=t.split("."),s=n.length;for(let e=0;e<s-1;e++){const t=n[e];o[t]||(o[t]={}),o=o[t]}o[n[s-1]]=i}function V(e){return e&&"object"==typeof e&&!Array.isArray(e)}function K(e,...t){if(!t.length)return e;const i=t.shift();if(V(e)&&V(i))for(const t in i)V(i[t])?(e[t]||Object.assign(e,{[t]:{}}),K(e[t],i[t])):Object.assign(e,{[t]:i[t]});return K(e,...t)}function G(e,t){const{profile:i}=window._jst||{};if(i&&i.profileData&&i.profileData.last_discount_code_presented){const{appliedDiscounts:s}=i,r=i.profileData.last_discount_code_presented;if(s&&s.indexOf(r)>=0)return;window.Shopify&&-1!=location.pathname.indexOf("/checkouts/")||function(e){try{e&&window.BCData&&fetch("/remote/v1/apply-code",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","x-xsrf-token":window.BCData&&window.BCData.csrf_token?window.BCData.csrf_token:""},body:z({code:e})}).then((e=>e.json())).then((t=>{t&&t.data&&"success"===t.data.status?R(e):t&&t.data&&"failed"===t.data.status&&console.log(t.data.errors[0])})).catch((function(e){})),e&&window.Shopify&&fetch(`/discount/${e}?redirect=/`).then((()=>R(e))),window._juplatformtype&&"woocommerce"===window._juplatformtype&&fetch("/?wc-ajax=cfw_apply_coupon",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:z({coupon_code:e})}).then((e=>e.json())).then((t=>{t.result&&R(e)}))}catch(e){}}(r),e.value=r;var o=document.createEvent("Event");o.initEvent("change",!1,!0),e.dispatchEvent(o);var n=e.getBoundingClientRect().top;if(t)t.classList.remove("btn--disabled"),t.removeAttribute("disabled"),t.click();else{const t=e.closest("form").querySelectorAll("input").filter((function(){var e=this.type?this.type.toLowerCase():"";return(e.indexOf("button")>-1||e.indexOf("submit")>-1||e.indexOf("image")>-1)&&Math.abs(this.getBoundingClientRect().top-n)<40}));t&&t.forEach((e=>{e.classList.remove("btn--disabled"),e.removeAttribute("disabled"),e.click()}))}}}const H=(e,t)=>`_jst_profile_${e}_${t}`,F=e=>`_jst_unsubscribe_${e}`,Z=e=>`_jst_origin_${e}`,X=e=>`_jst_profileid_${e}`,Q=e=>`_jst_sessionid_${e}`;var Y=Object.freeze({__proto__:null,profileKey:H,unsubscribeKey:F,originKey:Z,profileIDKey:X,previewIDKey:e=>`_jst_preview_${e}`,sessionIDKey:Q,completeWorkflowKey:(e,t)=>`_jst_completedworkflow_${t}`});const ee=(e,t)=>{const{profile:i,domain:o,profileID:n}=window._jst;J(i,e,t),J(window,"_jst.profile",i),sessionStorage.setItem(H(o,n),JSON.stringify(i))};var te="1.0.1",ie="1.0.3";const oe="_jst_preview";function ne(e){!function(){if(null==document.getElementById(e)){var t=document.createElement("script");t.id=e,t.type="text/javascript",t.async=!0,t.src=`${ju4_asset_host}/${e}`,window._jst&&window._jst.nonce&&(t.nonce=window._jst.nonce);var i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(t,i)}}()}const se=(i=null)=>()=>{const o=window.ju4_num,n=new a(o),s=function(){const e=document.querySelector("script[nonce]");if(e)return e.nonce}(),r=new Date;let l=localStorage.getItem(Z(o));l?l=JSON.parse(l):(localStorage.setItem(Z(o),JSON.stringify({originalReferringUrl:document.referrer})),l={originalReferringUrl:document.referrer}),localStorage.setItem("_jst-domainid",o);const u={...l,utils:{fetchP:d,formPost:B,ifrStorage:n,getCookie:t,setCookie:e,queryString:c,_get:W,_set:J,_deepMerge:K,updateProfile:ee,getProfile:L,appendScript:ne,...Y},domain:o,cdn:window.ju4_asset_host,api:window.ju4_api||"https://api.justuno.com",pApi:window.ju4_pApi||"https://justone.ai",startTime:r.getTime(),idleTime:0,currentUrl:window.location.href,referringUrl:document.referrer,version:te,nonce:s,exitIntent:{}};window._jst=u,sessionStorage.getItem(F(o))||(i&&"function"==typeof i&&i(),(e=>{const{utils:t}=window._jst,{profileIDKey:i}=t;return new Promise((async(o,n)=>{let s=await t.getCookie(i(e));s?o(s):t.ifrStorage.getProfileID().then((e=>{e.profileID?o(e.profileID):o(null)})).catch((e=>n(new Error(e))))}))})(o).then((e=>(window._jst.profileID=e,w(o)))).then((()=>L())).then((e=>{window._jst.profile=e,window._jst.config.discountSettings&&function(e){if(e&&e.discountSetting&&"string"==typeof e.discountSetting&&""!==e.discountSetting){const{submitElement:t,fieldElement:i,autoApply:o}=JSON.parse(e.discountSetting);if(t&&i&&"on"===o){let e="";const o=document.querySelector(t),n=document.querySelector(i);n&&(n.addEventListener("keydown",(t=>{t.target.value&&(e=t.target.value)})),n.addEventListener("change",(t=>{t.target.value&&(e=t.target.value)}))),o&&o.addEventListener("click",(()=>{e&&ee("discountCodes",[e])})),n&&G(n,o)}}}(window._jst.config.discountSettings),window.addEventListener("message",(e=>{if("_jst_force_unsubscribe"===e.data){const{domain:e,profile:t,utils:i}=window._jst,{profileID:o}=t;sessionStorage.removeItem(H(e,o)),localStorage.removeItem(X(e)),sessionStorage.removeItem(Q(e)),i.setCookie(X(e),o,-1),window._jst.profile=null,window._jst.profileID=null,sessionStorage.setItem(F(e),"true"),setTimeout((()=>{sessionStorage.removeItem(H(e,null))}),500)}else if("ju_loadmainscript"===e.data)ne(`${"magento"===window._juplatformtype?"ju_magento_main_":"ju_main_"}${window._jst.config.ju_v}.js`);else if("ju_csdhtml_init"===e.data&&!sessionStorage.getItem(oe)){const{utils:e}=window._jst,{ifrStorage:t}=e;t.getPreviewSession().then((e=>{e.type&&e.token&&(sessionStorage.setItem(oe,JSON.stringify({type:e.type,token:e.token})),window.location.reload())})).catch((e=>console.log(e)))}}));ne(`${"magento"===window._juplatformtype?"ju_magento_api_":"ju_api_"}${window._jst.config.ju_v}.js`)})).catch((e=>{console.log(e)})))},re=e=>{if(window.onerror=function(){return!0},window.Promise&&window.fetch&&window.Symbol&&window.ResizeObserver)se(e)();else{const n="magento"===window._juplatformtype?"magento_polyfills":"polyfills";t=`${window.ju4_asset_host}/${n}.js?v=${te}`,i=se(e),(o=document.createElement("script")).src=t,o.onload=function(){i()},o.onerror=function(){i(new Error("Failed to load script "+t))},document.head.appendChild(o)}var t,i,o};var ae={setWorkflowActiveStep(e,t){e.commit("setWorkflowActiveStep",t)},removeWorkflowActiveStep(e,t){e.commit("removeWorkflowActiveStep",t)},removeWorkflowOnsiteState(e,t){e.commit("removeWorkflowOnsiteState",t)},setOnsiteOpenState(e,t){e.commit("setOnsiteOpenState",t)},removeOnsiteOpenState(e,t){e.commit("removeOnsiteOpenState",t)},setWorkflowOnsiteData(e,t){e.commit("setWorkflowOnsiteData",t)},removeWorkflowOnsiteData(e,t){e.commit("removeWorkflowOnsiteData",t)},setTriggerEvent(e,t){e.commit("setTriggerEvent",t)},removeTriggerEvent(e,t){e.commit("removeTriggerEvent",t)},setWorkflowEvalStatus(e,t){e.commit("setWorkflowEvalStatus",t)},removeWorkflowEvalStatus(e,t){e.commit("removeWorkflowEvalStatus",t)},setOnsitePageEvent(e,t){e.commit("setOnsitePageEvent",t)},setSavedPromos(e,t){e.commit("setSavedPromos",t)},setPromoEvents(e,t){e.commit("setPromoEvents",t)},removePromoEvents(e,t){e.commit("removePromoEvents",t)},resetState(e){e.commit("resetState")}},ce={setWorkflowActiveStep(e,t){const{workflowID:i,stepID:o,ifElse:n}=t;if(!i||!o)return e;const s={currentStep:o};n&&(s.ifElse=n),"start"===o&&(s.startedThisPageLoad=!0);const r=e.workflowState;return r[i]=s,{...e,workflowState:{...r}}},removeWorkflowActiveStep(e,t){const{workflowID:i}=t;return delete e.workflowState[i],e},setOnsiteOpenState(e,t){const{workflowID:i,stepID:o,onsiteID:n,waitForClose:s,stepProp:r}=t,a=[...e.onsiteOpenState],c=`${i}-${o}-${n}`;return a.find((e=>e.id===c))||a.push({id:c,waitForClose:s,workflowID:i,stepID:o,onsiteID:n,startTime:(new Date).getTime(),stepProp:r}),{...e,onsiteOpenState:a}},setSavedPromos(e,t){const{promoID:i,promo:o}=t,n={...e.savedPromos};return n[i]=o,{...e,savedPromos:n}},removeOnsiteOpenState(e,t){const{workflowID:i,stepID:o,onsiteID:n}=t,s=`${i}-${o}-${n}`,r=[...e.onsiteOpenState.filter((e=>e.id!==s))];return{...e,onsiteOpenState:r}},setTriggerEvent(e,t){const{workflowID:i,stepID:o,eventID:n,event:s}=t,r=`${i}_${o}`,a={...e.eventTriggers};return a[r]?a[r][n]={...s,id:n}:a[r]={[n]:{...s,id:n}},{...e,eventTriggers:a}},removeTriggerEvent(e,t){const{workflowID:i,stepID:o}=t,n={...e.eventTriggers},s=`${i}_${o}`;return Object.keys(n[s]).length&&delete n[s],{...e,eventTriggers:n}},setWorkflowEvalStatus(e,t){const{workflowID:i,status:o}=t,n={...e.workflowEvalStatus};return n[i]=o,{...e,workflowEvalStatus:n}},removeWorkflowEvalStatus(e,t){const{workflowID:i}=t,o={...e.workflowEvalStatus};return delete o[i],{...e,workflowEvalStatus:o}},setWorkflowOnsiteData(e,t){const{workflowID:i,stepID:o,onsiteID:n,canvasSize:s,advancingEvents:r}=t,a=[...e.workflowOnsiteData],c=`${i}-${o}-${n}`;return a.find((e=>e.id===c))||a.push({id:c,canvasSize:s,advancingEvents:r}),{...e,workflowOnsiteData:a}},removeWorkflowOnsiteData(e,t){const{workflowID:i,stepID:o,onsiteID:n}=t,s=`${i}-${o}-${n}`,r=[...e.workflowOnsiteData.filter((e=>e.id!==s))];return{...e,workflowOnsiteData:r}},setOnsitePageEvent(e,t){const{promoID:i,eventType:o,frameID:n,TimeViewed:s}=t,r={...e.onsitePageEvent},a=r[i];if(a){const e=a[o];a[o]?a[o]={qty:e.qty+1,frameIDs:e.frameIDs&&Array.isArray(e.frameIDs)?[...e.frameIDs,n]:[n],timeViewed:e.timeViewed+s,timestamp:(new Date).toISOString()}:a[o]={qty:1,frameIDs:[n],timeViewed:s,timestamp:(new Date).toISOString()}}else r[i]={[o]:{qty:1,frameIDs:[n],timeViewed:s,timestamp:(new Date).toISOString()}};return{...e,onsitePageEvent:r}},setPromoEvents(e,t){const{_get:i,_set:o}=window._jst.utils,n={...e.promoEvents},{eventPath:s,clickedID:r,frameID:a,TimeViewed:c}=t,d=s.replace("promoEvents.",""),l=i(n,d,null);return l?(l.qty=l.qty+1,l.timestamp=(new Date).toISOString(),l.timeViewed=l.timeViewed?l.timeViewed+c:c,l.frameIDs?l.frameIDs.push(a):l.frameIDs=[a],r&&(l.clickIDs?l.clickIDs[r]?l.clickIDs[r]=l.clickIDs[r]+1:l.clickIDs[r]=1:l.clickIDs={[r]:1}),o(n,d,l)):o(n,d,{...r?{clickIDs:{[r]:1}}:{},qty:1,frameIDs:[a],timeViewed:c,timestamp:(new Date).toISOString()}),{...e,promoEvents:n}},removePromoEvents(e,t){const i={...e.promoEvents},{promoIDs:o=[],promoID:n}=t;return n?delete i[n]:o&&o.forEach((e=>{delete i[e]})),{...e,promoEvents:i}},removeWorkflowOnsiteState(e,t){const{workflowID:i}=t,o=[...e.workflowOnsiteData.filter((e=>!e.id.includes(i)))],n=[...e.onsiteOpenState.filter((e=>!e.id.includes(i)))];return{...e,onsiteOpenState:n,workflowOnsiteData:o}},resetState:()=>({workflowState:{},onsiteOpenState:[],workflowOnsiteData:[],eventTriggers:{},workflowEvalStatus:{},onsitePageEvent:{},promoEvents:{},savedPromos:{}})};class de{constructor(){this.events={}}subscribe(e,t){let i=this;return i.events.hasOwnProperty(e)||(i.events[e]=[]),i.events[e].push(t)}publish(e,t={}){return this.events.hasOwnProperty(e)?this.events[e].map((e=>e(t))):[]}}new class{constructor(e){let t=this;t.actions={},t.mutations={},t.state={},t.status="resting",t.events=new de,e.hasOwnProperty("actions")&&(t.actions=e.actions),e.hasOwnProperty("mutations")&&(t.mutations=e.mutations),t.state=new Proxy(e.state||{},{set:function(e,i,o){return e[i]=o,t.events.publish("stateChange",t.state),"mutation"!==t.status&&console.warn(`You should use a mutation to set ${i}`),!0}})}dispatch(e,t){let i=this;return"function"!=typeof i.actions[e]?(console.error(`Action "${e} doesn't exist.`),!1):(i.status="action",i.actions[e](i,t),!0)}commit(e,t){let i=this;if("function"!=typeof i.mutations[e])return console.error(`Mutation "${e}" doesn't exist`),!1;i.status="mutation";let o=i.mutations[e](i.state,t);return i.state=Object.assign(i.state,o),i.status="resting",!0}}({actions:ae,mutations:ce,state:{workflowState:{},onsiteOpenState:[],eventTriggers:{},workflowEvalStatus:{},onsitePageEvent:{},workflowOnsiteData:[],promoEvents:{},savedPromos:{}}});function le(e){return{productID:e.product_id.toString(),variationID:e.variant_id.toString(),sku:e.sku,price:e.original_price,qty:e.quantity,name:e.product_title,discount:e.discounts.reduce(((e,t)=>e+t.amount),0)}}window._jstCartSyncing=!1;function we(){const{order_id:e,total_price:t,subtotal_price:i,total_tax:o,shipping_rate:n,currency:s,discount:r,line_items:a}=Shopify.checkout,{cartToken:c}=Shopify.Checkout,d={orderID:e,grandTotal:parseInt(100*t),subTotal:parseInt(100*i),tax:parseInt(100*o),shipping:parseInt(100*n.price),discount:r&&r.amount?parseInt(100*r.amount):0,discountCodes:r&&r.code?[r.code]:[],currency:s,cartItems:a.map((e=>(e=>({productID:e.product_id.toString(),variationID:e.variant_id.toString(),sku:e.sku,price:parseInt(100*e.price),qty:e.quantity,name:e.title,tax:e.taxable?e.tax_lines.reduce(((e,t)=>parseInt(e+100*t.price)),0):0,discount:e.applied_discounts.reduce(((e,t)=>parseInt(e+100*t.amount)),0)}))(e)))};c?window.ju4app("order",{...d,cartID:c}):fetch(`/admin/api/2022-07/orders/${e}.json`).then((e=>e.json())).then((e=>{e&&e.order&&window.ju4app("order",{...d,cartID:e.order.cart_token})})).catch((e=>{window.ju4app("order",d)}))}window._ju_addToCart=function(e,t){const{variantID:i}=e;fetch("/cart/add.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:[{id:i,quantity:1}]})}).then((e=>{var i;((i=e.status)-200)*(i-299)<=0&&"function"==typeof t&&t()}))},window._ju_prod_redirect=function(e){const{title:t,url:i}=e;var o;window.open(window.location.origin+`/products/${i||(o=t.replace("|",""),o.replace(/\s+/g,"-").toLowerCase())}`)};const ue=()=>{window._juplatformtype="shopify",window._juprodId=window.ShopifyAnalytics&&ShopifyAnalytics.meta&&ShopifyAnalytics.meta.product&&ShopifyAnalytics.meta.product.id?ShopifyAnalytics.meta.product.id:"",window.ju4app("initFunc",(()=>{try{window.ShopifyAnalytics&&ShopifyAnalytics.meta&&ShopifyAnalytics.meta.product&&ShopifyAnalytics.meta.product.id&&ee("prodID",ShopifyAnalytics.meta.product.id),window._jucountrycode=window.Shopify&&Shopify.country?Shopify.country:"",window._jupagetype=window.ShopifyAnalytics&&ShopifyAnalytics.meta&&ShopifyAnalytics.meta.page&&ShopifyAnalytics.meta.page.pageType?ShopifyAnalytics.meta.page.pageType:"",window._jucustId=window.ShopifyAnalytics&&ShopifyAnalytics.meta&&ShopifyAnalytics.meta.page&&ShopifyAnalytics.meta.page.customerId?ShopifyAnalytics.meta.page.customerId:"",window._jucustomId=window.ShopifyAnalytics&&ShopifyAnalytics.lib&&ShopifyAnalytics.lib.user&&ShopifyAnalytics.lib.user()&&ShopifyAnalytics.lib.user().traits()&&ShopifyAnalytics.lib.user().traits().uniqToken?ShopifyAnalytics.lib.user().traits().uniqToken:""}catch(e){console.log("no shop customer id",e)}window._jstCartSyncing||(window._jstCartSyncing=!0,fetch("/cart.js").then((e=>e.json())).then((e=>{const{items:t=[],currency:i}=e,o=t.map((e=>({...le(e),currency:i})));window._jucart=e,window.ju4app("cartItems",o)})).catch((e=>{console.log(e),console.log("ju cannot get and update shopify cart")})).finally((()=>{window._jstCartSyncing=!1}))),"/checkout/thank_you"===(window.ShopifyAnalytics&&ShopifyAnalytics.meta&&ShopifyAnalytics.meta.page&&ShopifyAnalytics.meta.page.path?ShopifyAnalytics.meta.page.path:null)&&we(),function(e,t){"function"==typeof t&&(e.fetch=function(){const e=t.apply(this,arguments);return e.then((e=>{if(e&&e.url.indexOf(`${window.location.origin}/cart/add`)>=0)try{e.clone().json().then((e=>t("/cart.js").then((e=>e.json())).then((t=>{window._jucart=t,404!==e.status&&window.ju4app("cartItemAdd",le(e.items&&e.items.length>0?e.items[0]:e))}))))}catch(e){}if([`${window.location.origin}/cart/update`,`${window.location.origin}/cart/change`,`${window.location.origin}/cart/clear`].some((t=>e.url.indexOf(t)>=0))&&!window._jstCartSyncing){window._jstCartSyncing=!0;try{e.clone().json().then((e=>{if(Array.isArray(e.items)){const{items:t=[]}=e;window._jucart=e;const i=t.map((e=>le(e)));ju4app("cartItems",i)}}))}catch(e){}window._jstCartSyncing=!1}})),e})}(window,window.fetch),function(){const e=XMLHttpRequest.prototype.open;XMLHttpRequest.prototype.open=function(){for(let e in arguments)try{const t="string"==typeof arguments[e]&&arguments[e].toString();t&&(t.indexOf("cart/add.js")>=0&&this.addEventListener("load",(function(e){try{e=this.responseText?this:e.currentTarget;var t=JSON.parse(e.responseText);fetch("/cart.js").then((e=>e.json())).then((e=>{window._jucart=e,404!==t.status&&window.ju4app("cartItemAdd",le(t))}))}catch(e){}})),(t.indexOf("cart/update.js")>=0||t.indexOf("cart/change.js")>=0||t.indexOf("cart/clear.js")>=0)&&this.addEventListener("load",(function(e){if(!window._jstCartSyncing){window._jstCartSyncing=!0;try{e=this.responseText?this:e.currentTarget;var t=JSON.parse(e.responseText);if(Array.isArray(t.items)){const{items:e=[]}=t;window._jucart=t;const i=e.map((e=>le(e)));ju4app("cartItems",i)}}catch(e){}window._jstCartSyncing=!1}})))}catch(e){}e.apply(this,arguments)}}()}))};(()=>{const e=(()=>{const e=window.location.hash.substr(1);return e?(e=>["juworkflow_","juonsite_","juselector_"].reduce(((t,i)=>{if(-1!==e.search(i)){const o=e.replace(i,"");t={type:i.replace("_",""),token:o}}return t}),null))(e):null})(),t=(()=>{const e=sessionStorage.getItem(oe);return e?JSON.parse(e):null})();return e?(t&&e.token===t.token&&e.type===t.type||(e=>{sessionStorage.setItem(oe,JSON.stringify(e))})(e),!0):!!t})()?(()=>{const i=new a(ju4_num),o={utils:{fetchP:d,formPost:B,getCookie:t,setCookie:e,ifrStorage:i,queryString:c,_get:W,_set:J,_deepMerge:K,...Y},domain:ju4_num,cdn:window.ju4_asset_host,api:window.ju4_api||"https://api.justuno.com",pApi:window.ju4_pApi||"https://justone.ai",version:ie,profile:{},exitIntent:{}},n=[`ju_design_${te}.js`,`ju_preview_${ie}.js`];window._jst=o,n.forEach(ne)})():window._jst||re(ue)}));
